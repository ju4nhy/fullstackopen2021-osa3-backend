{"version":3,"sources":["components/Filter.js","components/Person.js","components/PersonList.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","newFilter","handleFilterChange","value","onChange","Person","person","deletePerson","className","name","phone","id","onClick","PersonList","persons","filteredPersons","filter","toLowerCase","includes","map","PersonForm","newName","newPhoneNum","handleNameChange","handlePhoneNumChange","addPerson","type","Notification","message","errorMessage","baseUrl","processingFunctions","getAll","axios","get","then","response","data","create","post","update","put","forcedelete","delete","App","useState","setPersons","setNewName","setNewPhoneNum","setNewFilter","notificationMessage","setNotificationMessage","setErrorMessage","useEffect","personService","allPersons","updatePerson","window","confirm","find","p","updatedPerson","resetInputs","setTimeout","catch","error","event","target","preventDefault","createdPerson","length","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.572d4d03.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n// Filter -hakukenttä\r\nconst Filter = ({ newFilter, handleFilterChange }) => {\r\n    return (\r\n        <div>\r\n            <h4>Search</h4>\r\n            <input value={newFilter} onChange={handleFilterChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n    return(\r\n          <div className='personContainer'>\r\n            <label key={person.id}>{person.name} <b>{person.phone}</b></label>\r\n            <button className=\"deleteContact\" onClick={() => deletePerson(person.id, person.name)}>Delete</button>      \r\n          </div>    \r\n    ) \r\n  }\r\n\r\nexport default Person \r\n\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PersonList = ({ persons, newFilter, deletePerson }) => {\r\n\r\n  const filteredPersons = newFilter ? persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase())) : persons\r\n\r\n    return(\r\n      <div>   \r\n        <h4>Contact List</h4>   \r\n        {filteredPersons.map(person => \r\n          <Person person={person} key={person.id} name={person.name} phone={person.phone} deletePerson={deletePerson}  />\r\n        )}       \r\n      </div>   \r\n    ) \r\n}\r\n\r\nexport default PersonList","import React from 'react'\r\n\r\nconst PersonForm = ({ newName, newPhoneNum, handleNameChange, handlePhoneNumChange, addPerson }) => {\r\n    return (\r\n        <div>\r\n            <h4>Add contact</h4>\r\n            <form className='container'>\r\n                <label>name: </label> \r\n                <input value={newName} onChange={handleNameChange} />\r\n                <label>phone: </label>\r\n                <input value={newPhoneNum} onChange={handlePhoneNumChange} />\r\n                <div><button className=\"addContact\" type=\"submit\" onClick={addPerson}>Add</button></div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\n// Ilmoitus onnistuneista operaatioista ja virhetilanteista\r\nconst Notification = ({ message, errorMessage }) => {\r\n  if (message === null) {\r\n    return null\r\n  } else if (message === errorMessage) {\r\n      return ( \r\n      <div className=\"error\">{message}</div> \r\n      )\r\n  } \r\n  return (\r\n  <div className=\"notification\">{message}</div>\r\n  )\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = person => {\r\n  const request = axios.post(baseUrl, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, person) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, person)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst forcedelete = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst processingFunctions = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  forcedelete\r\n}\r\n\r\nexport default processingFunctions","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonList from './components/PersonList'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\n// Tilat\nconst App = () => {\n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newPhoneNum, setNewPhoneNum ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n \n// Hae data\nuseEffect(() => {\n  personService\n    .getAll()\n    .then(allPersons => {\n      setPersons(allPersons)\n   })\n}, [])\n\n// Lisää kontakti puhelinluetteloon\nconst addPerson = (event) => {\n  event.preventDefault()\n  if (persons.map(person => person.name).includes(newName)) {\n    updatePerson()\n  } else {\n      const person = {\n        name: newName, \n        phone: newPhoneNum\n      }    \n        personService\n          .create(person)\n          .then(createdPerson => {\n              if (createdPerson.name.length >= 3 && createdPerson.phone.length >= 8) { \n                setNotificationMessage(`Added new contact ${newName}`)\n                setTimeout(() => {\n                  setNotificationMessage(null)\n                }, 3000)\n              }\n              setPersons(persons.concat(createdPerson))\n              resetInputs()\n          }) \n          .catch(error => {\n            setErrorMessage(`${error.response.data.error}`)\n            setTimeout(() => {\n              setErrorMessage(null)\n            }, 3000)\n          })\n      }\n}\n\n// Päivitä kontaktin tiedot\nconst updatePerson = () => {\n  if (window.confirm(`${newName} is already added to phonebook. Replace the old phone number with a new one?`)) {\n    const person = persons.find(p => p.name === newName)\n    const updatedPerson = {...person, phone: newPhoneNum}\n    personService\n      .update(updatedPerson.id, updatedPerson)\n      .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== updatedPerson.id ? person : updatedPerson))\n            personService\n                .getAll()\n                .then(allPersons => {\n                  setPersons(allPersons)\n            })\n            resetInputs()\n            setNotificationMessage(`Phone number updated for contact: ${newName}`)\n            setTimeout(() => {\n              setNotificationMessage(null)\n            }, 3000)\n      })\n      .catch(error => {\n        setErrorMessage(`Contact not found. ${newName} has already been removed from the server.`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })  \n  }  \n}\n\n// Poista kontakti puhelinluettelosta\nconst deletePerson = (id, name) => {\n    if (window.confirm(\"Are you sure you want to delete this contact?\")) {\n      personService\n        .forcedelete(id)\n        .then(() => {\n          setNotificationMessage(`${name} deleted`)\n          setTimeout(() => {\n            setNotificationMessage(null)\n          }, 3000)\n            personService\n              .getAll()\n              .then(allPersons => {\n                setPersons(allPersons)\n              })\n        })  \n    }   \n}\n\n// Tyhjennä kentät\nconst resetInputs = () => {\n  setNewName('')\n  setNewPhoneNum('')\n  setNewFilter('')\n}\n\nconst handleNameChange = (event) => {\n  setNewName(event.target.value)\n}\nconst handlePhoneNumChange = (event) => {\n  setNewPhoneNum(event.target.value)\n}\nconst handleFilterChange = (event) => {\n  setNewFilter(event.target.value)\n}\n\nreturn (\n  <div>\n      <h3>PHONEBOOK</h3>\n      <Filter newFilter={newFilter} handleFilterChange={handleFilterChange}/>\n      <Notification message={notificationMessage} />\n      <Notification message={errorMessage} errorMessage={errorMessage} />\n      <PersonForm newName={newName} \n                  newPhoneNum={newPhoneNum} \n                  handleNameChange={handleNameChange} \n                  handlePhoneNumChange={handlePhoneNumChange} \n                  addPerson={addPerson}\n      />\n      <PersonList persons={persons} newFilter={newFilter} deletePerson={deletePerson} />\n  </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}